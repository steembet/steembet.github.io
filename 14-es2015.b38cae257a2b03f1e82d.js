(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{MnLc:function(t,e,i){"use strict";i.r(e),i.d(e,"SportPageModule",(function(){return F}));var o=i("ofXK"),n=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),a=i("lJxs"),r=i("fXoL"),l=i("/BtF"),b=i("7JkF");function p(t,e){1&t&&(r.Mb(0,"tr"),r.Mb(1,"td"),r.kc(2,"Home"),r.Lb(),r.Mb(3,"td"),r.kc(4,"Away"),r.Lb(),r.Lb())}function h(t,e){1&t&&(r.Mb(0,"tr"),r.Mb(1,"td"),r.kc(2,"1"),r.Lb(),r.Mb(3,"td"),r.kc(4,"X"),r.Lb(),r.Mb(5,"td"),r.kc(6,"2"),r.Lb(),r.Lb())}function u(t,e){if(1&t&&(r.Mb(0,"td",9),r.kc(1),r.Lb()),2&t){const t=e.$implicit;r.xb(1),r.mc(" ",t.odds," ")}}function g(t,e){if(1&t&&(r.Mb(0,"tr"),r.jc(1,u,2,1,"td",8),r.Lb()),2&t){const t=r.Wb(2);r.xb(1),r.cc("ngForOf",null==t.game.Markets[0]?null:t.game.Markets[0].odds)}}function d(t,e){if(1&t&&(r.Mb(0,"tr"),r.Mb(1,"td"),r.kc(2,"Suspended"),r.Lb(),r.Lb()),2&t){const t=r.Wb(2);r.xb(1),r.yb("colspan",t.game.Markets[0].odds.length)}}function m(t,e){if(1&t&&(r.Mb(0,"ion-label",2),r.Mb(1,"table",6),r.jc(2,p,5,0,"tr",7),r.jc(3,h,7,0,"tr",7),r.jc(4,g,2,1,"tr",7),r.jc(5,d,3,1,"tr",7),r.Lb(),r.Lb()),2&t){const t=r.Wb();r.xb(2),r.cc("ngIf",2===t.game.Markets[0].odds.length),r.xb(1),r.cc("ngIf",3===t.game.Markets[0].odds.length),r.xb(1),r.cc("ngIf","Visible"===t.game.Markets[0].visibility),r.xb(1),r.cc("ngIf","Visible"!==t.game.Markets[0].visibility)}}function f(t,e){if(1&t&&(r.Mb(0,"ion-label",10),r.kc(1),r.Ib(2,"br"),r.kc(3," more "),r.Lb()),2&t){const t=r.Wb();r.xb(1),r.mc(" + ",t.game.Markets.length-1,"")}}let y=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-item-list-prematch"]],inputs:{game:"game"},decls:16,vars:11,consts:[["detail",""],[3,"src"],[2,"flex","3","color","#dddddd","line-height","25px"],[2,"color","#af814c"],["style","flex: 3; color: #dddddd; line-height: 25px",4,"ngIf"],["class","ion-text-center","style","flex: 1; font-size: 80%; color: #af814c; padding-right: 0px",4,"ngIf"],["cellspacing","10px"],[4,"ngIf"],["class","odds",4,"ngFor","ngForOf"],[1,"odds"],[1,"ion-text-center",2,"flex","1","font-size","80%","color","#af814c","padding-right","0px"]],template:function(t,e){1&t&&(r.Mb(0,"ion-item",0),r.Mb(1,"ion-avatar"),r.Ib(2,"img",1),r.Xb(3,"lowercase"),r.Lb(),r.Mb(4,"ion-label",2),r.Mb(5,"small",3),r.kc(6),r.Lb(),r.Ib(7,"br"),r.kc(8),r.Ib(9,"br"),r.kc(10),r.Ib(11,"br"),r.Mb(12,"small"),r.kc(13),r.Lb(),r.Lb(),r.jc(14,m,6,4,"ion-label",4),r.jc(15,f,4,1,"ion-label",5),r.Lb()),2&t&&(r.xb(2),r.dc("src","assets/svg/",r.Yb(3,9,e.game.SportName.replace(" ","_")),".svg",r.hc),r.xb(4),r.lc(e.game.localDate),r.xb(2),r.mc(" ",e.game.HomeTeam,""),r.xb(2),r.mc(" ",e.game.AwayTeam,""),r.xb(3),r.oc("",e.game.SportName," - ",e.game.RegionName," - ",e.game.LeagueName,""),r.xb(1),r.cc("ngIf",e.game.Markets.length>0),r.xb(1),r.cc("ngIf",e.game.Markets))},directives:[s.n,s.c,s.o,o.j,o.i],pipes:[o.h],styles:["ion-avatar[_ngcontent-%COMP%]{width:25px;height:25px;margin-bottom:10px;margin-right:10px}table[_ngcontent-%COMP%]{width:100%;background-color:#000}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33%;text-align:center;padding:4px auto;background-color:#222;font-size:92%;font-weight:700}.pulsing[_ngcontent-%COMP%]{-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation:pulse 1.5s;animation:pulse 1.5s;-webkit-animation-direction:alternate;animation-direction:alternate}@-webkit-keyframes pulse{0%{opacity:1;color:#efefef}50%{opacity:1;color:orange}to{opacity:1;color:#efefef}}@keyframes pulse{0%{opacity:1;color:#efefef}50%{opacity:1;color:orange}to{opacity:1;color:#efefef}}"]}),t})();var L=i("TF2k");function M(t,e){if(1&t&&(r.Mb(0,"ion-title"),r.kc(1),r.Mb(2,"span",11),r.kc(3),r.Lb(),r.Lb()),2&t){const t=r.Wb();r.xb(1),r.mc("",t.sport.SportName," - "),r.xb(2),r.lc(t.currentPageTitle)}}function I(t,e){if(1&t){const t=r.Nb();r.Mb(0,"ion-item",12),r.Ub("click",(function(){r.gc(t);const i=e.$implicit;return r.Wb().filterByLeague(i.id)})),r.Mb(1,"ion-label",13),r.kc(2),r.Ib(3,"br"),r.Mb(4,"span",14),r.kc(5),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.xb(2),r.mc(" ",t.name,""),r.xb(3),r.mc("",t.count," Matche(s)")}}function k(t,e){1&t&&r.Ib(0,"ion-spinner")}function x(t,e){1&t&&(r.Mb(0,"span"),r.kc(1,"No Matches !"),r.Lb())}function w(t,e){if(1&t){const t=r.Nb();r.Mb(0,"ion-list"),r.Mb(1,"app-item-list-prematch",17),r.Ub("click",(function(){r.gc(t);const i=e.$implicit;return r.Wb(2).openGame(i,"pm")})),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.xb(1),r.cc("game",t)}}function C(t,e){if(1&t&&(r.Mb(0,"ion-col",15),r.jc(1,k,1,0,"ion-spinner",4),r.jc(2,x,2,0,"span",4),r.jc(3,w,2,1,"ion-list",16),r.Lb()),2&t){const t=r.Wb();r.xb(1),r.cc("ngIf",!t.prematches),r.xb(1),r.cc("ngIf",0===(null==t.prematches?null:t.prematches.length)),r.xb(1),r.cc("ngForOf",t.prematches)}}function D(t,e){1&t&&r.Ib(0,"ion-spinner")}function S(t,e){if(1&t){const t=r.Nb();r.Mb(0,"ion-list"),r.Mb(1,"app-item-list-inplay",17),r.Ub("click",(function(){r.gc(t);const i=e.$implicit;return r.Wb(2).openGame(i,"inplay")})),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.xb(1),r.cc("game",t)}}function v(t,e){if(1&t&&(r.Mb(0,"ion-col",15),r.jc(1,D,1,0,"ion-spinner",4),r.jc(2,S,2,1,"ion-list",16),r.Lb()),2&t){const t=r.Wb();r.xb(1),r.cc("ngIf",!t.inplays),r.xb(1),r.cc("ngForOf",t.inplays)}}const P=[{path:"",component:(()=>{class t{constructor(t,e,i,o){this.route=t,this.sportsService=e,this.socket=i,this.navCtrl=o,this.currentPageTitle="Matches Later Today",this.currentTab="today",this.currentLeagueId=0,this.liveColor="tertiary",this.todayColor="secondary",this.tomorrowColor="tertiary",this.laterColor="tertiary",this.todayDate=(new Date).toLocaleDateString(),this.tomorrowDate="",this.currentCollection="prematches"}ngOnDestroy(){this.singleSportSubscription&&this.singleSportSubscription.unsubscribe(),this.prematchesSubscription&&this.prematchesSubscription.unsubscribe(),this.inplaySubscription&&this.inplaySubscription.unsubscribe(),this.initialInplaysSubscription&&this.initialInplaysSubscription.unsubscribe()}ngOnInit(){const t=new Date,e=new Date(t);e.setDate(e.getDate()+1),this.tomorrowDate=e.toLocaleDateString()}ionViewDidEnter(){this.route.paramMap.subscribe(t=>{this.sportId=+t.get("id"),console.log(this.sportId),this.singleSportSubscription=this.sportsService.getSingleItem(this.sportId).subscribe(t=>{this.sport=t}),this.prematchesSubscription=this.sportsService.getPrematches(this.sportId).subscribe(t=>{this.allPrematches=t;for(const e of this.allPrematches){const t=new Date(e.Date);e.localDate=t.toLocaleString()}this.allPrematches.sort((t,e)=>t.localDate>e.localDate?1:-1),this.filterByTab("today"),this.calculateDistinctLeagues()})})}setCurrentPrematches(t){console.log(this.todayDate),"today"===t&&(this.prematches=this.allPrematches.filter(t=>t.localDate.includes(this.todayDate))),"tomorrow"===t&&(this.prematches=this.allPrematches.filter(t=>t.localDate.includes(this.tomorrowDate))),"later"===t&&(this.prematches=this.allPrematches.filter(t=>!t.localDate.includes(this.tomorrowDate)),this.prematches=this.prematches.filter(t=>!t.localDate.includes(this.todayDate)))}getInplays(){return this.socket.fromEvent("inplayData").pipe(Object(a.a)(t=>t.allInplays))}filterByLeague(t){this.currentLeagueId=t,"prematches"===this.currentCollection?this.prematches=this.allPrematches.filter(t=>t.LeagueId===this.currentLeagueId):this.inplays=this.allInplays.filter(t=>t.LeagueId===this.currentLeagueId),this.liveColor="tertiary",this.todayColor="tertiary",this.tomorrowColor="tertiary",this.laterColor="tertiary",this.currentPageTitle=this.distictLeagues.find(e=>e.id===t).name}filterByTab(t){["today","tomorrow","later"].includes(t)?(this.currentCollection="prematches",this.calculateDistinctLeagues(),this.setCurrentPrematches(t),this.inplaySubscription&&this.inplaySubscription.unsubscribe()):(this.currentCollection="inplays",this.initialInplaysSubscription=this.sportsService.getInplays().subscribe(t=>{this.allInplays=t,console.log(this.allInplays),this.allInplays=this.allInplays.filter(t=>t.SportId===this.sportId),this.inplays=[...this.allInplays],this.calculateDistinctLeagues()}),this.inplaySubscription=this.getInplays().subscribe(t=>{this.allInplays=t,console.log(this.allInplays),this.allInplays=this.allInplays.filter(t=>t.SportId===this.sportId),this.inplays=[...this.allInplays],this.calculateDistinctLeagues()})),this.liveColor="live"===t?"secondary":"tertiary",this.todayColor="today"===t?"secondary":"tertiary",this.tomorrowColor="tomorrow"===t?"secondary":"tertiary",this.laterColor="later"===t?"secondary":"tertiary","live"===t?this.currentPageTitle="Live Matches":"today"===t?this.currentPageTitle="Matches Later Today":"tomorrow"===t?this.currentPageTitle="Matches for Tomorrow":"today"===t&&(this.currentPageTitle="Matches in 2 days and Later")}calculateDistinctLeagues(){console.log("calleagues");const t="prematches"===this.currentCollection?this.allPrematches:this.allInplays,e=new Map;this.distictLeagues=[];for(const i of t)if(e.has(i.LeagueId)){const t=this.distictLeagues.findIndex(t=>t.id===i.LeagueId);this.distictLeagues[t].count+=1}else e.set(i.LeagueId,!0),this.distictLeagues.push({id:i.LeagueId,name:i.RegionName+" - "+i.SportName+" - "+i.LeagueName,count:1});this.distictLeagues.sort((t,e)=>t.name>e.name?1:-1),console.log("calleagues finished")}openGame(t,e){this.navCtrl.navigateForward(`/game/${e}:${t.SportId}:${t.LeagueId}:${t.Id}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(c.a),r.Hb(l.a),r.Hb(b.a),r.Hb(s.H))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-sport"]],decls:27,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","dark"],[4,"ngIf"],["fixed",""],[3,"color","click"],["size-md","3"],[2,"max-height","85vh","overflow-y","scroll"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["size-md","9","class","ion-no-padding",4,"ngIf"],[2,"color","#999"],[2,"cursor","pointer",3,"click"],[1,"ion-text-wrap",2,"color","#dbdbdb"],[2,"color","#a2a2a2"],["size-md","9",1,"ion-no-padding"],[4,"ngFor","ngForOf"],[3,"game","click"]],template:function(t,e){1&t&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar",1),r.Mb(2,"ion-buttons",2),r.Ib(3,"ion-menu-button",3),r.Lb(),r.jc(4,M,4,2,"ion-title",4),r.Lb(),r.Lb(),r.Mb(5,"ion-content"),r.Mb(6,"ion-grid",5),r.Mb(7,"ion-row"),r.Mb(8,"ion-col"),r.Mb(9,"ion-buttons"),r.Mb(10,"ion-button",6),r.Ub("click",(function(){return e.filterByTab("live")})),r.kc(11,"Live"),r.Lb(),r.Mb(12,"ion-button",6),r.Ub("click",(function(){return e.filterByTab("today")})),r.kc(13,"Later Today"),r.Lb(),r.Mb(14,"ion-button",6),r.Ub("click",(function(){return e.filterByTab("tomorrow")})),r.kc(15,"Tomorrow"),r.Lb(),r.Mb(16,"ion-button",6),r.Ub("click",(function(){return e.filterByTab("later")})),r.kc(17,"2 Days & Later"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(18,"ion-grid"),r.Mb(19,"ion-row"),r.Mb(20,"ion-col",7),r.Mb(21,"ion-list",8),r.Mb(22,"ion-list-header"),r.kc(23),r.Lb(),r.jc(24,I,6,2,"ion-item",9),r.Lb(),r.Lb(),r.jc(25,C,4,3,"ion-col",10),r.jc(26,v,3,2,"ion-col",10),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.cc("translucent",!0),r.xb(4),r.cc("ngIf",e.sport),r.xb(6),r.cc("color",e.liveColor),r.xb(2),r.cc("color",e.todayColor),r.xb(2),r.cc("color",e.tomorrowColor),r.xb(2),r.cc("color",e.laterColor),r.xb(7),r.mc("Filter By Leagues (",null==e.allInplays?null:e.allInplays.length,")"),r.xb(1),r.cc("ngForOf",e.distictLeagues),r.xb(1),r.cc("ngIf","prematches"===e.currentCollection),r.xb(1),r.cc("ngIf","inplays"===e.currentCollection))},directives:[s.k,s.D,s.g,s.s,o.j,s.i,s.j,s.v,s.h,s.f,s.p,s.q,o.i,s.B,s.n,s.o,s.y,y,L.a],styles:[""]}),t})()}];let T=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},imports:[[c.i.forChild(P)],c.i]}),t})();var j=i("PCNd");let F=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},imports:[[o.b,n.a,s.E,T,j.a]]}),t})()}}]);