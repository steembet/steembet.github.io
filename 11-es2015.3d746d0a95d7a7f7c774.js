(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{FUA7:function(e,t,n){"use strict";n.r(t),n.d(t,"SlrPageModule",(function(){return M}));var s=n("ofXK"),i=n("3Pt+"),o=n("TEn/"),c=n("tyNb"),b=n("fXoL"),a=n("/BtF"),r=n("tk/3");let u=(()=>{class e{constructor(e){this.http=e,this.endpoint="http://localhost:5000/slr"}fetchLeagues(){return this.http.get(this.endpoint+"/leagues")}fetchInplayLeagues(){return this.http.get(this.endpoint+"/inplay_leagues")}updateLeague(e,t){return this.http.patch(`${this.endpoint}/leagues/${e}/used`,{Used:t?"true":"false"})}updateInplayLeague(e,t){return this.http.patch(`${this.endpoint}/inplay_leagues/${e}/used`,{Used:t?"true":"false"})}}return e.\u0275fac=function(t){return new(t||e)(b.Qb(r.a))},e.\u0275prov=b.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function l(e,t){if(1&e){const e=b.Nb();b.Mb(0,"ion-item"),b.Mb(1,"ion-label"),b.kc(2),b.Lb(),b.Mb(3,"ion-toggle",13),b.Ub("ionChange",(function(n){b.gc(e);const s=t.index;return b.Wb(2).edit(n,s)})),b.Lb(),b.Lb()}if(2&e){const e=t.$implicit;b.xb(2),b.lc(e.SportName),b.xb(1),b.cc("checked","true"===e.Used)}}function g(e,t){if(1&e&&(b.Mb(0,"ion-list"),b.Mb(1,"ion-item"),b.Mb(2,"ion-label"),b.Mb(3,"h3"),b.kc(4,"Used Sports"),b.Lb(),b.Lb(),b.Lb(),b.jc(5,l,4,2,"ion-item",12),b.Lb()),2&e){const e=b.Wb();b.xb(5),b.cc("ngForOf",e.sports)}}function p(e,t){if(1&e){const e=b.Nb();b.Mb(0,"ion-item"),b.Mb(1,"ion-label"),b.kc(2),b.Lb(),b.Mb(3,"ion-toggle",13),b.Ub("ionChange",(function(n){b.gc(e);const s=t.index;return b.Wb(2).edit(n,s)})),b.Lb(),b.Lb()}if(2&e){const e=t.$implicit;b.xb(2),b.nc("",e.LeagueId," ",e.LeagueName,""),b.xb(1),b.cc("checked","true"===e.Used)}}function h(e,t){if(1&e&&(b.Mb(0,"ion-list"),b.jc(1,p,4,3,"ion-item",12),b.Lb()),2&e){const e=b.Wb();b.xb(1),b.cc("ngForOf",e.leagues)}}function d(e,t){if(1&e){const e=b.Nb();b.Mb(0,"ion-item"),b.Mb(1,"ion-label"),b.kc(2),b.Lb(),b.Mb(3,"ion-toggle",13),b.Ub("ionChange",(function(n){b.gc(e);const s=t.index;return b.Wb(2).edit(n,s)})),b.Lb(),b.Lb()}if(2&e){const e=t.$implicit;b.xb(2),b.nc("",e.LeagueId," ",e.LeagueName,""),b.xb(1),b.cc("checked","true"===e.Used)}}function f(e,t){if(1&e&&(b.Mb(0,"ion-list"),b.jc(1,d,4,3,"ion-item",12),b.Lb()),2&e){const e=b.Wb();b.xb(1),b.cc("ngForOf",e.inplayleagues)}}const L=[{path:"",component:(()=>{class e{constructor(e,t,n){this.sportsService=e,this.leaguesService=t,this.loadingCtrl=n,this.currentTab="Sports"}ngOnInit(){this.subSport=this.sportsService.fetchSports().subscribe(e=>{e.sort((e,t)=>e.SportName>t.SportName?1:-1),this.sports=e}),this.subLeague=this.leaguesService.fetchLeagues().subscribe(e=>{e.sort((e,t)=>e.LeagueName>t.LeagueName?1:-1),this.leagues=e}),this.subInplayLeague=this.leaguesService.fetchInplayLeagues().subscribe(e=>{e.sort((e,t)=>e.LeagueName>t.LeagueName?1:-1),this.inplayleagues=e})}segmentChanged(e){this.currentTab=e.target.value}edit(e,t){this.loadingCtrl.create({message:"Saving Data"}).then(n=>{n.present();const s=e.detail.checked;if("Sports"===this.currentTab)this.sportsService.updateSport(this.sports[t].SportId.toString(),s).subscribe(e=>{console.log(e),n.dismiss()});else if("Inplay Leagues"===this.currentTab)this.leaguesService.updateInplayLeague(this.inplayleagues[t].LeagueId.toString(),s).subscribe(e=>{console.log(e),n.dismiss()});else{const e=this.leagues[t].LeagueId;console.log(e),this.leaguesService.updateLeague(e.toString(),s).subscribe(e=>{n.dismiss()})}})}ngOnDestroy(){this.subSport&&this.subSport.unsubscribe(),this.subLeague&&this.subLeague.unsubscribe(),this.subInplayLeague&&this.subInplayLeague.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(a.a),b.Hb(u),b.Hb(o.G))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-slr"]],decls:26,vars:7,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/admin"],[1,"template-border-left","ion-padding"],["size-md","6","offset-md","3"],["value","Sports",3,"ionChange"],["value","Sports"],["value","Leagues"],["value","Inplay Leagues"],["size-md","8","offset-md","2"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"checked","ionChange"]],template:function(e,t){1&e&&(b.Mb(0,"ion-header",0),b.Mb(1,"ion-toolbar",1),b.Mb(2,"ion-buttons",2),b.Ib(3,"ion-back-button",3),b.Lb(),b.Mb(4,"ion-title"),b.kc(5,"Check and Select"),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content",4),b.Mb(7,"ion-grid"),b.Mb(8,"ion-row"),b.Mb(9,"ion-col",5),b.Mb(10,"ion-segment",6),b.Ub("ionChange",(function(e){return t.segmentChanged(e)})),b.Mb(11,"ion-segment-button",7),b.Mb(12,"ion-label"),b.kc(13),b.Lb(),b.Lb(),b.Mb(14,"ion-segment-button",8),b.Mb(15,"ion-label"),b.kc(16),b.Lb(),b.Lb(),b.Mb(17,"ion-segment-button",9),b.Mb(18,"ion-label"),b.kc(19),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(20,"ion-grid"),b.Mb(21,"ion-row"),b.Mb(22,"ion-col",10),b.jc(23,g,6,1,"ion-list",11),b.jc(24,h,2,1,"ion-list",11),b.jc(25,f,2,1,"ion-list",11),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&e&&(b.cc("translucent",!0),b.xb(13),b.mc("Sports (",null==t.sports?null:t.sports.length,")"),b.xb(3),b.mc("Leagues (",null==t.leagues?null:t.leagues.length,")"),b.xb(3),b.mc("Inplay Leagues (",null==t.inplayleagues?null:t.inplayleagues.length,")"),b.xb(4),b.cc("ngIf","Sports"===t.currentTab),b.xb(1),b.cc("ngIf","Leagues"===t.currentTab),b.xb(1),b.cc("ngIf","Inplay Leagues"===t.currentTab))},directives:[o.k,o.D,o.g,o.d,o.e,o.B,o.i,o.j,o.v,o.h,o.w,o.K,o.x,o.o,s.j,o.p,o.n,s.i,o.C,o.a],styles:[".segment-button-checked[_ngcontent-%COMP%]{height:75px;color:#fff;font-weight:700}.segment-button-checked[_ngcontent-%COMP%]:hover   ion-label[_ngcontent-%COMP%]{color:#ff0}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(L)],c.i]}),e})(),M=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[s.b,i.a,o.E,m]]}),e})()}}]);