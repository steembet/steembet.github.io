!function(){function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return c=t.done,t},e:function(t){l=!0,a=t},f:function(){try{c||null==i.return||i.return()}finally{if(l)throw a}}}}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{MnLc:function(n,i,o){"use strict";o.r(i),o.d(i,"SportPageModule",(function(){return $}));var c=o("ofXK"),l=o("3Pt+"),s=o("TEn/"),u=o("tyNb"),b=o("lJxs"),f=o("fXoL"),p=o("/BtF"),d=o("7JkF");function g(t,e){1&t&&(f.Mb(0,"tr"),f.Mb(1,"td"),f.kc(2,"Home"),f.Lb(),f.Mb(3,"td"),f.kc(4,"Away"),f.Lb(),f.Lb())}function h(t,e){1&t&&(f.Mb(0,"tr"),f.Mb(1,"td"),f.kc(2,"1"),f.Lb(),f.Mb(3,"td"),f.kc(4,"X"),f.Lb(),f.Mb(5,"td"),f.kc(6,"2"),f.Lb(),f.Lb())}function m(t,e){if(1&t&&(f.Mb(0,"td",9),f.kc(1),f.Lb()),2&t){var n=e.$implicit;f.xb(1),f.mc(" ",n.odds," ")}}function y(t,e){if(1&t&&(f.Mb(0,"tr"),f.jc(1,m,2,1,"td",8),f.Lb()),2&t){var n=f.Wb(2);f.xb(1),f.cc("ngForOf",null==n.game.Markets[0]?null:n.game.Markets[0].odds)}}function v(t,e){if(1&t&&(f.Mb(0,"tr"),f.Mb(1,"td"),f.kc(2,"Suspended"),f.Lb(),f.Lb()),2&t){var n=f.Wb(2);f.xb(1),f.yb("colspan",n.game.Markets[0].odds.length)}}function L(t,e){if(1&t&&(f.Mb(0,"ion-label",2),f.Mb(1,"table",6),f.jc(2,g,5,0,"tr",7),f.jc(3,h,7,0,"tr",7),f.jc(4,y,2,1,"tr",7),f.jc(5,v,3,1,"tr",7),f.Lb(),f.Lb()),2&t){var n=f.Wb();f.xb(2),f.cc("ngIf",2===n.game.Markets[0].odds.length),f.xb(1),f.cc("ngIf",3===n.game.Markets[0].odds.length),f.xb(1),f.cc("ngIf","Visible"===n.game.Markets[0].visibility),f.xb(1),f.cc("ngIf","Visible"!==n.game.Markets[0].visibility)}}function I(t,e){if(1&t&&(f.Mb(0,"ion-label",10),f.kc(1),f.Ib(2,"br"),f.kc(3," more "),f.Lb()),2&t){var n=f.Wb();f.xb(1),f.mc(" + ",n.game.Markets.length-1,"")}}var M,k=((M=function(){function t(){r(this,t)}return a(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||M)},M.\u0275cmp=f.Bb({type:M,selectors:[["app-item-list-prematch"]],inputs:{game:"game"},decls:16,vars:11,consts:[["detail",""],[3,"src"],[2,"flex","3","color","#dddddd","line-height","25px"],[2,"color","#af814c"],["style","flex: 3; color: #dddddd; line-height: 25px",4,"ngIf"],["class","ion-text-center","style","flex: 1; font-size: 80%; color: #af814c; padding-right: 0px",4,"ngIf"],["cellspacing","10px"],[4,"ngIf"],["class","odds",4,"ngFor","ngForOf"],[1,"odds"],[1,"ion-text-center",2,"flex","1","font-size","80%","color","#af814c","padding-right","0px"]],template:function(t,e){1&t&&(f.Mb(0,"ion-item",0),f.Mb(1,"ion-avatar"),f.Ib(2,"img",1),f.Xb(3,"lowercase"),f.Lb(),f.Mb(4,"ion-label",2),f.Mb(5,"small",3),f.kc(6),f.Lb(),f.Ib(7,"br"),f.kc(8),f.Ib(9,"br"),f.kc(10),f.Ib(11,"br"),f.Mb(12,"small"),f.kc(13),f.Lb(),f.Lb(),f.jc(14,L,6,4,"ion-label",4),f.jc(15,I,4,1,"ion-label",5),f.Lb()),2&t&&(f.xb(2),f.dc("src","assets/svg/",f.Yb(3,9,e.game.SportName.replace(" ","_")),".svg",f.hc),f.xb(4),f.lc(e.game.localDate),f.xb(2),f.mc(" ",e.game.HomeTeam,""),f.xb(2),f.mc(" ",e.game.AwayTeam,""),f.xb(3),f.oc("",e.game.SportName," - ",e.game.RegionName," - ",e.game.LeagueName,""),f.xb(1),f.cc("ngIf",e.game.Markets.length>0),f.xb(1),f.cc("ngIf",e.game.Markets))},directives:[s.n,s.c,s.o,c.j,c.i],pipes:[c.h],styles:["ion-avatar[_ngcontent-%COMP%]{width:25px;height:25px;margin-bottom:10px;margin-right:10px}table[_ngcontent-%COMP%]{width:100%;background-color:#000}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33%;text-align:center;padding:4px auto;background-color:#222;font-size:92%;font-weight:700}.pulsing[_ngcontent-%COMP%]{-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation:pulse 1.5s;animation:pulse 1.5s;-webkit-animation-direction:alternate;animation-direction:alternate}@-webkit-keyframes pulse{0%{opacity:1;color:#efefef}50%{opacity:1;color:orange}to{opacity:1;color:#efefef}}@keyframes pulse{0%{opacity:1;color:#efefef}50%{opacity:1;color:orange}to{opacity:1;color:#efefef}}"]}),M),x=o("TF2k");function w(t,e){if(1&t&&(f.Mb(0,"ion-title"),f.kc(1),f.Mb(2,"span",11),f.kc(3),f.Lb(),f.Lb()),2&t){var n=f.Wb();f.xb(1),f.mc("",n.sport.SportName," - "),f.xb(2),f.lc(n.currentPageTitle)}}function S(t,e){if(1&t){var n=f.Nb();f.Mb(0,"ion-item",12),f.Ub("click",(function(){f.gc(n);var t=e.$implicit;return f.Wb().filterByLeague(t.id)})),f.Mb(1,"ion-label",13),f.kc(2),f.Ib(3,"br"),f.Mb(4,"span",14),f.kc(5),f.Lb(),f.Lb(),f.Lb()}if(2&t){var i=e.$implicit;f.xb(2),f.mc(" ",i.name,""),f.xb(3),f.mc("",i.count," Matche(s)")}}function C(t,e){1&t&&f.Ib(0,"ion-spinner")}function D(t,e){1&t&&(f.Mb(0,"span"),f.kc(1,"No Matches !"),f.Lb())}function j(t,e){if(1&t){var n=f.Nb();f.Mb(0,"ion-list"),f.Mb(1,"app-item-list-prematch",17),f.Ub("click",(function(){f.gc(n);var t=e.$implicit;return f.Wb(2).openGame(t,"pm")})),f.Lb(),f.Lb()}if(2&t){var i=e.$implicit;f.xb(1),f.cc("game",i)}}function P(t,e){if(1&t&&(f.Mb(0,"ion-col",15),f.jc(1,C,1,0,"ion-spinner",4),f.jc(2,D,2,0,"span",4),f.jc(3,j,2,1,"ion-list",16),f.Lb()),2&t){var n=f.Wb();f.xb(1),f.cc("ngIf",!n.prematches),f.xb(1),f.cc("ngIf",0===(null==n.prematches?null:n.prematches.length)),f.xb(1),f.cc("ngForOf",n.prematches)}}function T(t,e){1&t&&f.Ib(0,"ion-spinner")}function O(t,e){if(1&t){var n=f.Nb();f.Mb(0,"ion-list"),f.Mb(1,"app-item-list-inplay",17),f.Ub("click",(function(){f.gc(n);var t=e.$implicit;return f.Wb(2).openGame(t,"inplay")})),f.Lb(),f.Lb()}if(2&t){var i=e.$implicit;f.xb(1),f.cc("game",i)}}function F(t,e){if(1&t&&(f.Mb(0,"ion-col",15),f.jc(1,T,1,0,"ion-spinner",4),f.jc(2,O,2,1,"ion-list",16),f.Lb()),2&t){var n=f.Wb();f.xb(1),f.cc("ngIf",!n.inplays),f.xb(1),f.cc("ngForOf",n.inplays)}}var N,B,A,W=[{path:"",component:(N=function(){function n(t,e,i,o){r(this,n),this.route=t,this.sportsService=e,this.socket=i,this.navCtrl=o,this.currentPageTitle="Matches Later Today",this.currentTab="today",this.currentLeagueId=0,this.liveColor="tertiary",this.todayColor="secondary",this.tomorrowColor="tertiary",this.laterColor="tertiary",this.todayDate=(new Date).toLocaleDateString(),this.tomorrowDate="",this.currentCollection="prematches"}return a(n,[{key:"ngOnDestroy",value:function(){this.singleSportSubscription&&this.singleSportSubscription.unsubscribe(),this.prematchesSubscription&&this.prematchesSubscription.unsubscribe(),this.inplaySubscription&&this.inplaySubscription.unsubscribe(),this.initialInplaysSubscription&&this.initialInplaysSubscription.unsubscribe()}},{key:"ngOnInit",value:function(){var t=new Date,e=new Date(t);e.setDate(e.getDate()+1),this.tomorrowDate=e.toLocaleDateString()}},{key:"ionViewDidEnter",value:function(){var t=this;this.route.paramMap.subscribe((function(n){t.sportId=+n.get("id"),console.log(t.sportId),t.singleSportSubscription=t.sportsService.getSingleItem(t.sportId).subscribe((function(e){t.sport=e})),t.prematchesSubscription=t.sportsService.getPrematches(t.sportId).subscribe((function(n){t.allPrematches=n;var i,r=e(t.allPrematches);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=new Date(o.Date);o.localDate=a.toLocaleString()}}catch(c){r.e(c)}finally{r.f()}t.allPrematches.sort((function(t,e){return t.localDate>e.localDate?1:-1})),t.filterByTab("today"),t.calculateDistinctLeagues()}))}))}},{key:"setCurrentPrematches",value:function(t){var e=this;console.log(this.todayDate),"today"===t&&(this.prematches=this.allPrematches.filter((function(t){return t.localDate.includes(e.todayDate)}))),"tomorrow"===t&&(this.prematches=this.allPrematches.filter((function(t){return t.localDate.includes(e.tomorrowDate)}))),"later"===t&&(this.prematches=this.allPrematches.filter((function(t){return!t.localDate.includes(e.tomorrowDate)})),this.prematches=this.prematches.filter((function(t){return!t.localDate.includes(e.todayDate)})))}},{key:"getInplays",value:function(){return this.socket.fromEvent("inplayData").pipe(Object(b.a)((function(t){return t.allInplays})))}},{key:"filterByLeague",value:function(t){var e=this;this.currentLeagueId=t,"prematches"===this.currentCollection?this.prematches=this.allPrematches.filter((function(t){return t.LeagueId===e.currentLeagueId})):this.inplays=this.allInplays.filter((function(t){return t.LeagueId===e.currentLeagueId})),this.liveColor="tertiary",this.todayColor="tertiary",this.tomorrowColor="tertiary",this.laterColor="tertiary",this.currentPageTitle=this.distictLeagues.find((function(e){return e.id===t})).name}},{key:"filterByTab",value:function(e){var n=this;["today","tomorrow","later"].includes(e)?(this.currentCollection="prematches",this.calculateDistinctLeagues(),this.setCurrentPrematches(e),this.inplaySubscription&&this.inplaySubscription.unsubscribe()):(this.currentCollection="inplays",this.initialInplaysSubscription=this.sportsService.getInplays().subscribe((function(e){n.allInplays=e,console.log(n.allInplays),n.allInplays=n.allInplays.filter((function(t){return t.SportId===n.sportId})),n.inplays=t(n.allInplays),n.calculateDistinctLeagues()})),this.inplaySubscription=this.getInplays().subscribe((function(e){n.allInplays=e,console.log(n.allInplays),n.allInplays=n.allInplays.filter((function(t){return t.SportId===n.sportId})),n.inplays=t(n.allInplays),n.calculateDistinctLeagues()}))),this.liveColor="live"===e?"secondary":"tertiary",this.todayColor="today"===e?"secondary":"tertiary",this.tomorrowColor="tomorrow"===e?"secondary":"tertiary",this.laterColor="later"===e?"secondary":"tertiary","live"===e?this.currentPageTitle="Live Matches":"today"===e?this.currentPageTitle="Matches Later Today":"tomorrow"===e?this.currentPageTitle="Matches for Tomorrow":"today"===e&&(this.currentPageTitle="Matches in 2 days and Later")}},{key:"calculateDistinctLeagues",value:function(){var t=this;console.log("calleagues");var n="prematches"===this.currentCollection?this.allPrematches:this.allInplays,i=new Map;this.distictLeagues=[];var r,o=e(n);try{var a=function(){var e=r.value;if(i.has(e.LeagueId)){var n=t.distictLeagues.findIndex((function(t){return t.id===e.LeagueId}));t.distictLeagues[n].count+=1}else i.set(e.LeagueId,!0),t.distictLeagues.push({id:e.LeagueId,name:e.RegionName+" - "+e.SportName+" - "+e.LeagueName,count:1})};for(o.s();!(r=o.n()).done;)a()}catch(c){o.e(c)}finally{o.f()}this.distictLeagues.sort((function(t,e){return t.name>e.name?1:-1})),console.log("calleagues finished")}},{key:"openGame",value:function(t,e){this.navCtrl.navigateForward("/game/".concat(e,":").concat(t.SportId,":").concat(t.LeagueId,":").concat(t.Id))}}]),n}(),N.\u0275fac=function(t){return new(t||N)(f.Hb(u.a),f.Hb(p.a),f.Hb(d.a),f.Hb(s.H))},N.\u0275cmp=f.Bb({type:N,selectors:[["app-sport"]],decls:27,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","dark"],[4,"ngIf"],["fixed",""],[3,"color","click"],["size-md","3"],[2,"max-height","85vh","overflow-y","scroll"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["size-md","9","class","ion-no-padding",4,"ngIf"],[2,"color","#999"],[2,"cursor","pointer",3,"click"],[1,"ion-text-wrap",2,"color","#dbdbdb"],[2,"color","#a2a2a2"],["size-md","9",1,"ion-no-padding"],[4,"ngFor","ngForOf"],[3,"game","click"]],template:function(t,e){1&t&&(f.Mb(0,"ion-header",0),f.Mb(1,"ion-toolbar",1),f.Mb(2,"ion-buttons",2),f.Ib(3,"ion-menu-button",3),f.Lb(),f.jc(4,w,4,2,"ion-title",4),f.Lb(),f.Lb(),f.Mb(5,"ion-content"),f.Mb(6,"ion-grid",5),f.Mb(7,"ion-row"),f.Mb(8,"ion-col"),f.Mb(9,"ion-buttons"),f.Mb(10,"ion-button",6),f.Ub("click",(function(){return e.filterByTab("live")})),f.kc(11,"Live"),f.Lb(),f.Mb(12,"ion-button",6),f.Ub("click",(function(){return e.filterByTab("today")})),f.kc(13,"Later Today"),f.Lb(),f.Mb(14,"ion-button",6),f.Ub("click",(function(){return e.filterByTab("tomorrow")})),f.kc(15,"Tomorrow"),f.Lb(),f.Mb(16,"ion-button",6),f.Ub("click",(function(){return e.filterByTab("later")})),f.kc(17,"2 Days & Later"),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Mb(18,"ion-grid"),f.Mb(19,"ion-row"),f.Mb(20,"ion-col",7),f.Mb(21,"ion-list",8),f.Mb(22,"ion-list-header"),f.kc(23),f.Lb(),f.jc(24,S,6,2,"ion-item",9),f.Lb(),f.Lb(),f.jc(25,P,4,3,"ion-col",10),f.jc(26,F,3,2,"ion-col",10),f.Lb(),f.Lb(),f.Lb()),2&t&&(f.cc("translucent",!0),f.xb(4),f.cc("ngIf",e.sport),f.xb(6),f.cc("color",e.liveColor),f.xb(2),f.cc("color",e.todayColor),f.xb(2),f.cc("color",e.tomorrowColor),f.xb(2),f.cc("color",e.laterColor),f.xb(7),f.mc("Filter By Leagues (",null==e.allInplays?null:e.allInplays.length,")"),f.xb(1),f.cc("ngForOf",e.distictLeagues),f.xb(1),f.cc("ngIf","prematches"===e.currentCollection),f.xb(1),f.cc("ngIf","inplays"===e.currentCollection))},directives:[s.k,s.D,s.g,s.s,c.j,s.i,s.j,s.v,s.h,s.f,s.p,s.q,c.i,s.B,s.n,s.o,s.y,k,x.a],styles:[""]}),N)}],E=((B=function t(){r(this,t)}).\u0275mod=f.Fb({type:B}),B.\u0275inj=f.Eb({factory:function(t){return new(t||B)},imports:[[u.i.forChild(W)],u.i]}),B),U=o("PCNd"),$=((A=function t(){r(this,t)}).\u0275mod=f.Fb({type:A}),A.\u0275inj=f.Eb({factory:function(t){return new(t||A)},imports:[[c.b,l.a,s.E,E,U.a]]}),A)}}])}();